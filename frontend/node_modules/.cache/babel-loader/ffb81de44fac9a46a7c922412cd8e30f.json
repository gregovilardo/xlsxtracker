{"ast":null,"code":"var _jsxFileName = \"X:\\\\portfolio\\\\CryptoDjangoReact\\\\frontend\\\\src\\\\components\\\\CurrentUserContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from \"react\";\nimport { getUserToken } from \"../helpers/getUserToken\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CurrentUserContext = /*#__PURE__*/React.createContext();\nexport const CurrentUserProvider = ({\n  children\n}) => {\n  _s();\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const fetchCurrentUser = (username, password) => {\n    getUserToken(username, password, \"http://localhost:8000\").catch(e => {\n      console.log(e);\n    }).then(r => {\n      if (r.token) {\n        setCurrentUser({\n          id: r.user.id,\n          token: r.token,\n          username: r.user.username,\n          email: r.user.email\n        });\n      } else {\n        console.log(\"Error: BadRequest404\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: {\n      currentUser,\n      fetchCurrentUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CurrentUserProvider, \"299S3UbZsnNLe3YTjdCXwViEpVw=\");\n\n_c = CurrentUserProvider;\nexport const useCurrentUser = () => {\n  _s2();\n\n  return React.useContext(CurrentUserContext);\n};\n\n_s2(useCurrentUser, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"CurrentUserProvider\");","map":{"version":3,"sources":["X:/portfolio/CryptoDjangoReact/frontend/src/components/CurrentUserContext.js"],"names":["React","getUserToken","CurrentUserContext","createContext","CurrentUserProvider","children","currentUser","setCurrentUser","useState","fetchCurrentUser","username","password","catch","e","console","log","then","r","token","id","user","email","useCurrentUser","useContext"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,yBAA7B;;AAEA,OAAO,MAAMC,kBAAkB,gBAAGF,KAAK,CAACG,aAAN,EAA3B;AAEP,OAAO,MAAMC,mBAAmB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB;AAAA;;AACnD,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAtC;;AAEA,QAAMC,gBAAgB,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC/CV,IAAAA,YAAY,CAACS,QAAD,EAAWC,QAAX,EAAqB,uBAArB,CAAZ,CACCC,KADD,CACOC,CAAC,IAAE;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AAAgB,KAD3B,EAECG,IAFD,CAEMC,CAAC,IAAI;AACP,UAAIA,CAAC,CAACC,KAAN,EAAa;AACTX,QAAAA,cAAc,CAAC;AACXY,UAAAA,EAAE,EAAEF,CAAC,CAACG,IAAF,CAAOD,EADA;AAEXD,UAAAA,KAAK,EAAED,CAAC,CAACC,KAFE;AAGXR,UAAAA,QAAQ,EAAEO,CAAC,CAACG,IAAF,CAAOV,QAHN;AAIXW,UAAAA,KAAK,EAAEJ,CAAC,CAACG,IAAF,CAAOC;AAJH,SAAD,CAAd;AAMH,OAPD,MAOO;AAACP,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AAAqC;AAChD,KAXD;AAYD,GAbD;;AAeA,sBACE,QAAC,kBAAD,CAAoB,QAApB;AAA6B,IAAA,KAAK,EAAE;AAAET,MAAAA,WAAF;AAAeG,MAAAA;AAAf,KAApC;AAAA,cACGJ;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAvBM;;GAAMD,mB;;KAAAA,mB;AAyBb,OAAO,MAAMkB,cAAc,GAAG;AAAA;;AAAA,SAAMtB,KAAK,CAACuB,UAAN,CAAiBrB,kBAAjB,CAAN;AAAA,CAAvB;;IAAMoB,c","sourcesContent":["import React from \"react\"\r\nimport { getUserToken } from \"../helpers/getUserToken\"\r\n\r\nexport const CurrentUserContext = React.createContext()\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = React.useState({})\r\n\r\n  const fetchCurrentUser = (username, password) => {\r\n    getUserToken(username, password, \"http://localhost:8000\")\r\n    .catch(e=>{console.log(e);})\r\n    .then(r => {\r\n        if (r.token) {\r\n            setCurrentUser({\r\n                id: r.user.id,\r\n                token: r.token,\r\n                username: r.user.username,\r\n                email: r.user.email,\r\n            })\r\n        } else {console.log(\"Error: BadRequest404\");}\r\n    })\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={{ currentUser, fetchCurrentUser }}>\r\n      {children}\r\n    </CurrentUserContext.Provider>\r\n  )\r\n}\r\n\r\nexport const useCurrentUser = () => React.useContext(CurrentUserContext)"]},"metadata":{},"sourceType":"module"}