{"ast":null,"code":"// export function setUserToken(username, password){\n//     const data = {username: username, password:password}\n//     fetch(`${url}/users-auth/`, {\n//         method: \"POST\",\n//         body: JSON.stringify(data),\n//         headers:{\n//             \"Content-Type\": \"application/json\"\n//         }\n//     })\n//     .then(res=>res.json())\n//     .catch(error => {console.error(\"Error:\", error)})\n//     .then(result => {\n//       localStorage.setItem(\"token\", (result.token));\n//       localStorage.setItem(\"username\",username);\n//     });\n// }\nexport async function getUserToken(username, password, url) {\n  const data = {\n    username: username,\n    password: password\n  };\n  const response = await fetch(`${url}/users-auth/`, {\n    method: \"POST\",\n    body: JSON.stringify(data),\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(res => res.json()).catch(error => {\n    console.log(error);\n  }).then(result => {\n    return result;\n  });\n  return response.result;\n} // change localhost for the env var","map":{"version":3,"sources":["X:/portfolio/CryptoDjangoReact/frontend/src/actions/getUserToken.js"],"names":["getUserToken","username","password","url","data","response","fetch","method","body","JSON","stringify","headers","then","res","json","catch","error","console","log","result"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,OAAO,eAAeA,YAAf,CAA4BC,QAA5B,EAAsCC,QAAtC,EAAgDC,GAAhD,EAAoD;AACvD,QAAMC,IAAI,GAAG;AAACH,IAAAA,QAAQ,EAAEA,QAAX;AAAqBC,IAAAA,QAAQ,EAACA;AAA9B,GAAb;AACA,QAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEH,GAAI,cAAR,EAAuB;AAC/CI,IAAAA,MAAM,EAAE,MADuC;AAE/CC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFyC;AAG/CO,IAAAA,OAAO,EAAC;AACJ,sBAAgB;AADZ;AAHuC,GAAvB,CAAL,CAOtBC,IAPsB,CAOjBC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAPY,EAQtBC,KARsB,CAQhBC,KAAK,IAAG;AAACC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAAoB,GARb,EAStBJ,IATsB,CASjBO,MAAM,IAAI;AACZ,WAAOA,MAAP;AACH,GAXsB,CAAvB;AAYA,SAAOd,QAAQ,CAACc,MAAhB;AACH,C,CAED","sourcesContent":["// export function setUserToken(username, password){\r\n//     const data = {username: username, password:password}\r\n//     fetch(`${url}/users-auth/`, {\r\n//         method: \"POST\",\r\n//         body: JSON.stringify(data),\r\n//         headers:{\r\n//             \"Content-Type\": \"application/json\"\r\n//         }\r\n//     })\r\n//     .then(res=>res.json())\r\n//     .catch(error => {console.error(\"Error:\", error)})\r\n//     .then(result => {\r\n//       localStorage.setItem(\"token\", (result.token));\r\n//       localStorage.setItem(\"username\",username);\r\n//     });\r\n// }\r\n\r\n\r\nexport async function getUserToken(username, password, url){\r\n    const data = {username: username, password:password}\r\n    const response = await fetch(`${url}/users-auth/`, {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n        headers:{\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n    })\r\n    .then(res=>res.json())\r\n    .catch(error =>{console.log(error);})\r\n    .then(result => {\r\n        return result\r\n    })\r\n    return response.result\r\n}\r\n\r\n// change localhost for the env var"]},"metadata":{},"sourceType":"module"}